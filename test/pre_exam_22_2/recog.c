#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <stdbool.h>
#include <assert.h>

const char _0[17][9 + 1] = {
    "..#####.",
    ".######.",
    "##....##",
    "##....##",
    "##.....#",
    "##.....#",
    "##.....#",
    "##.....#",
    "##.....#",
    "##.....#",
    "##.....#",
    "##.....#",
    "##.....#",
    "##....##",
    "##....##",
    ".######.",
    "..####.."};

const char _1[17][9 + 1] = {
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
    "##",
};

const char _2[17][9 + 1] = {
    "..#####..",
    ".#######.",
    "##....##.",
    ".......##",
    "......##.",
    "......##.",
    "......##.",
    ".....##..",
    "....###..",
    "...###...",
    "...##....",
    "..###....",
    ".###.....",
    ".##......",
    "###......",
    "########.",
    "########."};

const char _3[17][9 + 1] = {
    "########",
    "########",
    ".....###",
    "....###.",
    "...###..",
    "..###...",
    "..#####.",
    "..######",
    "......##",
    "......##",
    "......##",
    "......##",
    "##....##",
    "##....##",
    "###...##",
    ".######.",
    "..####.."};

const char _4[17][9 + 1] = {
    ".....##..",
    "....###..",
    "....###..",
    "...####..",
    "...####..",
    "...####..",
    "..#####..",
    "..##.##..",
    ".###.##..",
    ".##..##..",
    ".##..##..",
    "##...##..",
    "#########",
    "#########",
    ".....##..",
    ".....##..",
    ".....##.."};

const char _5[17][9 + 1] = {
    "########.",
    "########.",
    "##.......",
    "##.......",
    "##.......",
    "##.......",
    "#######..",
    "########.",
    "......###",
    ".......##",
    ".......##",
    ".......##",
    ".......##",
    "##.....##",
    ".##...###",
    ".#######.",
    "..#####.."};

const char _6[17][9 + 1] = {
    ".....#...",
    "....##...",
    "...##....",
    "..###....",
    "..##.....",
    ".##......",
    ".##......",
    ".#####...",
    "#######..",
    "###...##.",
    "##....##.",
    "##.....##",
    "##.....##",
    "##.....##",
    "###...##.",
    ".#######.",
    "..####..."};

const char _7[17][9 + 1] = {
    "#########",
    "#########",
    ".......#.",
    "......##.",
    "......##.",
    ".....##..",
    ".....##..",
    ".....#...",
    "....##...",
    "....##...",
    "....##...",
    "...##....",
    "...##....",
    "...##....",
    "...##....",
    "...##....",
    "...##....",
};

const char _8[17][9 + 1] = {
    "..#####..",
    ".##...##.",
    "##.....#.",
    "##.....#.",
    "##.....#.",
    "##....##.",
    ".##..###.",
    "..#####..",
    ".#######.",
    "##....##.",
    "##.....##",
    "##.....##",
    "##.....##",
    "##.....##",
    "###..###.",
    ".######..",
    "...###..."};

const char _9[17][9 + 1] = {
    ".######..",
    ".##..###.",
    "##....##.",
    "##.....##",
    "##.....##",
    "##.....##",
    "##....##.",
    ".#######.",
    "..######.",
    ".....###.",
    ".....##..",
    "....###..",
    "....##...",
    "...##....",
    "..###....",
    ".###.....",
    "........."};

struct Number {
  const char (*p)[10];
  int n, m;
};

struct Number numbers[] = {
    {_0, 17, 8},
    {_1, 17, 2},
    {_2, 17, 9},
    {_3, 17, 8},
    {_4, 17, 9},
    {_5, 17, 9},
    {_6, 17, 9},
    {_7, 17, 9},
    {_8, 17, 9},
    {_9, 17, 9},
};

#define N 50
#define M 100

char s[N + 10][M + 10];
char ss[N + 10][M + 10];
int ansLen, ans[10];
bool check_row(int i) {
  for (int j = 1; j <= M; j++) {
    if (s[i][j] == '#') {
      return true;
    }
  }
  return false;
}

int cnt = 0;

bool check_col(int j) {
  for (int i = 1; i <= N; i++) {
    if (s[i][j] == '#') {
      return true;
    }
  }
  return false;
}

int ddx[10] = {1, -1, 0, 0};
int ddy[10] = {0, 0, -1, 1};
void bfs(int i, int j) {
  s[i][j] = '.';
  cnt++;
  for (int k = 0; k <= 3; k++) {
    if (s[i + ddx[k]][j + ddy[k]] == '#')
      bfs(i + ddx[k], j + ddy[k]);
  }
  return;
}

int main() {
  for (int i = 1; i <= N; i++) {
    scanf("%s", s[i]);
  }
  for (int j = 1; j <= M; j++)
    for (int i = 1; i <= N; i++) {
      ss[i][j] = s[i][j];
    }
  int up = 1, down = N;
  for (; !check_row(up); ++up);
  for (; !check_row(down); --down);
  printf("%d %d\n", up - 1, down - 1);
  int dx[10] = {1, 1, 1, 0, 0, -1, -1, -1};
  int dy[10] = {1, 0, -1, 1, -1, 1, 0, -1};
  for (int j = 1; j <= M; j++)
    for (int i = 1; i <= N; i++) {
      if (s[i][j] == '\0' || s[i][j] == '.')
        continue;
      cnt = 0;
      bfs(i, j);
      int ans = -1;
      switch (cnt) {
        case 64:
          if (strncmp(&ss[i][j], _0[2], 8) == 0 && strncmp(&ss[i + 1][j], _0[2 + 1], 8) == 0)
            ans = 0;
          break;
        case 34:
          if (strncmp(&ss[i][j], _1[0], 2) == 0 && strncmp(&ss[i + 1][j], _1[0 + 1], 2) == 0)
            ans = 1;
          break;
        case 61:
          if (strncmp(&ss[i][j], _2[2], 9) == 0 && strncmp(&ss[i + 1][j], _2[2 + 1], 9) == 0)
            ans = 2;
          break;
        case 70:
          if (strncmp(&ss[i][j], _4[11], 9) == 0 && strncmp(&ss[i + 1][j], _4[11 + 1], 9) == 0)
            ans = 4;
          else if (strncmp(&ss[i][j], _3[0], 8) == 0 && strncmp(&ss[i + 1][j], _3[1], 8) == 0)
            ans = 3;
          break;
        case 71:
          if (strncmp(&ss[i][j], _5[0], 9) == 0 && strncmp(&ss[i + 1][j], _5[0 + 1], 9) == 0)
            ans = 5;
          break;
        case 63:
          if (strncmp(&ss[i][j], _6[8], 9) == 0 && strncmp(&ss[i + 1][j], _6[8 + 1], 9) == 0)
            ans = 6;
          break;
        case 46:
          if (strncmp(&ss[i][j], _7[0], 9) == 0 && strncmp(&ss[i + 1][j], _7[0 + 1], 9) == 0)
            ans = 7;
          break;
        case 74:
          if (strncmp(&ss[i][j], _8[2], 9) == 0 && strncmp(&ss[i + 1][j], _8[2 + 1], 9) == 0)
            ans = 8;
          break;
        case 62:
          if (strncmp(&ss[i][j], _9[2], 9) == 0 && strncmp(&ss[i + 1][j], _9[2 + 1], 9) == 0)
            ans = 9;
          break;
        default:
          ans = -1;
          break;
      }
      if (ans != -1)
        printf("%d ", ans);
    }
  printf("\n");
  return 0;
}